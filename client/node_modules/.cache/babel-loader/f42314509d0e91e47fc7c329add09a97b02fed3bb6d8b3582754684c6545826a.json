{"ast":null,"code":"import { GET_COUNTRIES, GET_BY_NAME, GET_PAGES, GET_DETAIL, SET_CONTINENT } from \"./actions\";\nconst initialState = {\n  countries: [],\n  allContinents: [],\n  population: [],\n  allActivities: [],\n  activity: [],\n  details: [],\n  filter: [],\n  fromApi: true,\n  paginated: [],\n  sizePage: 10,\n  currentPage: 0,\n  numberOfPage: 0,\n  allCountries: []\n};\nfunction paginate(currentPage, sizePage, list) {\n  const inicio = sizePage * currentPage;\n  const fin = inicio + sizePage;\n  const paginated = list.slice(inicio, fin);\n  return paginated;\n}\nconst rootReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case GET_COUNTRIES:\n      const allCountries = action.payload;\n      const pagAllCountries = paginate(state.currentPage, state.sizePage, allCountries);\n      return {\n        ...state,\n        countries: action.payload,\n        allContinents: action.payload,\n        ppopulation: action.payload,\n        allActivities: action.payload,\n        paginated: pagAllCountries,\n        searchName: action.payload,\n        allCountries: action.payload\n      };\n    case GET_PAGES:\n      const sizePage = action.payload.sizePage;\n      const currentPage = action.payload.currentPage;\n      const allCountriesF = state.filter;\n      console.log(\"hola2\");\n      const pagPages = paginate(action.payload.currentPage, action.payload.sizePage, state.filter);\n      return {\n        ...state,\n        paginated: pagPages,\n        sizePage,\n        currentPage,\n        numberOfPage: Math.ceil(allCountriesF.length / 10)\n      };\n    case GET_BY_NAME:\n      return {\n        ...state,\n        countries: action.payload\n      };\n    case GET_DETAIL:\n      return {\n        ...state,\n        details: action.payload\n      };\n    case SET_CONTINENT:\n      const resContinent = state.allCountries;\n      const countriesContinent = [];\n      for (let i = 0; i < resContinent.length; i++) {\n        if (resContinent[i].continent === action.payload) countriesContinent.push(resContinent[i]);\n      }\n      return {\n        ...state,\n        countries: countriesContinent\n      };\n    default:\n      return {\n        ...state\n      };\n  }\n};\nexport default rootReducer;","map":{"version":3,"names":["GET_COUNTRIES","GET_BY_NAME","GET_PAGES","GET_DETAIL","SET_CONTINENT","initialState","countries","allContinents","population","allActivities","activity","details","filter","fromApi","paginated","sizePage","currentPage","numberOfPage","allCountries","paginate","list","inicio","fin","slice","rootReducer","state","arguments","length","undefined","action","type","payload","pagAllCountries","ppopulation","searchName","allCountriesF","console","log","pagPages","Math","ceil","resContinent","countriesContinent","i","continent","push"],"sources":["/home/erebo/Documents/Countries/client/src/redux/reducer.js"],"sourcesContent":["import { GET_COUNTRIES, GET_BY_NAME, GET_PAGES, GET_DETAIL, SET_CONTINENT } from \"./actions\";\n\nconst initialState = {\n    countries: [],\n    allContinents: [],\n    population: [],\n    allActivities: [],\n    activity: [],\n    details: [],\n    filter: [],\n    fromApi: true,\n    paginated: [],\n    sizePage: 10,\n    currentPage: 0,\n    numberOfPage: 0,\n    allCountries: []\n}\n\nfunction paginate(currentPage, sizePage, list) {\n    const inicio =sizePage *currentPage;\n    const fin = inicio +sizePage;\n    const paginated = list.slice(inicio, fin);\n    return paginated;\n}\n\nconst rootReducer = (state = initialState, action) =>{\n    switch (action.type) {\n        case GET_COUNTRIES:\n            const allCountries = action.payload;\n            const pagAllCountries = paginate(\n                state.currentPage,\n                state.sizePage,\n                allCountries\n            );\n            return {\n                ...state,\n                countries: action.payload,\n                allContinents: action.payload,\n                ppopulation: action.payload,\n                allActivities: action.payload,\n                paginated: pagAllCountries,\n                searchName: action.payload,\n                allCountries: action.payload\n            }\n\n        case GET_PAGES:\n                const sizePage = action.payload.sizePage;\n                const currentPage = action.payload.currentPage;\n                const allCountriesF = state.filter;\n                console.log(\"hola2\");\n                const pagPages = paginate(\n                  action.payload.currentPage,\n                  action.payload.sizePage,\n                  state.filter\n                );\n                return {\n                  ...state,\n                  paginated: pagPages,\n                  sizePage,\n                  currentPage,\n                  numberOfPage: Math.ceil(allCountriesF.length / 10),\n                };\n\n        case GET_BY_NAME:\n            return{\n                ...state,\n                countries:action.payload,\n            }\n        case GET_DETAIL:\n            return{\n                ...state,\n                details: action.payload\n            }\n        case SET_CONTINENT:\n            const resContinent = state.allCountries\n            const countriesContinent = [];\n            for (let i=0; i<resContinent.length; i++){\n                if(resContinent[i].continent === action.payload)\n                countriesContinent.push(resContinent[i]);\n            }\n            return {\n                 ...state,\n                 countries: countriesContinent\n            }\n        default:\n            return {...state};\n    }\n}\n\nexport default rootReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}